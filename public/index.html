<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Excentrica - Santiago del Estero</title>
    <meta name="description" content="Red social y marketplace de Santiago del Estero, Argentina. Noticias, eventos, productos y mas.">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="icon" href="/images/favicon.ico">
    <style>
        /* Home page specific styles */
        .home-section {
            margin-bottom: 2rem;
        }
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid rgba(168, 85, 247, 0.2);
        }
        .section-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #e2e8f0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .section-title .icon {
            font-size: 1.3rem;
        }

        /* News feed cards - Estilo Excentrica */
        .news-feed {
            display: flex;
            flex-direction: column;
            gap: 1.25rem;
        }
        .news-card {
            background: linear-gradient(145deg, rgba(25, 20, 35, 0.98), rgba(15, 12, 25, 0.99));
            border: 1px solid rgba(168, 85, 247, 0.2);
            border-radius: 16px;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3), 0 0 40px rgba(168, 85, 247, 0.05);
            position: relative;
        }
        .news-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #a855f7, #7c3aed, #a855f7);
            opacity: 0;
            transition: opacity 0.3s;
        }
        .news-card:hover {
            border-color: rgba(168, 85, 247, 0.5);
            transform: translateY(-4px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4), 0 0 60px rgba(168, 85, 247, 0.15);
        }
        .news-card:hover::before {
            opacity: 1;
        }
        .news-card-image-container {
            position: relative;
            overflow: hidden;
        }
        .news-card-image {
            width: 100%;
            height: 220px;
            object-fit: cover;
            transition: transform 0.4s ease;
        }
        .news-card:hover .news-card-image {
            transform: scale(1.05);
        }
        .news-card-image-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 80px;
            background: linear-gradient(to top, rgba(15, 12, 25, 0.95), transparent);
            pointer-events: none;
        }
        .news-card-badge {
            position: absolute;
            top: 12px;
            right: 12px;
            background: linear-gradient(135deg, #a855f7, #7c3aed);
            color: #fff;
            padding: 0.3rem 0.75rem;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 2px 10px rgba(168, 85, 247, 0.4);
        }
        .news-card-body {
            padding: 1.25rem;
        }
        .news-card-category {
            display: inline-block;
            background: rgba(168, 85, 247, 0.15);
            color: #c4b5fd;
            padding: 0.3rem 0.85rem;
            border-radius: 20px;
            font-size: 0.72rem;
            font-weight: 500;
            margin-bottom: 0.75rem;
            border: 1px solid rgba(168, 85, 247, 0.25);
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }
        .news-card-title {
            font-size: 1.15rem;
            font-weight: 700;
            color: #fff;
            margin-bottom: 0.6rem;
            line-height: 1.45;
            letter-spacing: -0.2px;
        }
        .news-card-title a {
            color: inherit;
            text-decoration: none;
            transition: color 0.2s;
        }
        .news-card-title a:hover {
            color: #c4b5fd;
        }
        .news-card-excerpt {
            color: #9ca3af;
            font-size: 0.88rem;
            line-height: 1.6;
            margin-bottom: 1rem;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        .news-card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 0.85rem;
            border-top: 1px solid rgba(168, 85, 247, 0.1);
        }
        .news-card-meta {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #6b7280;
            font-size: 0.78rem;
        }
        .news-card-meta svg {
            width: 14px;
            height: 14px;
            opacity: 0.7;
        }
        .news-card-stats {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .news-card-stat {
            display: flex;
            align-items: center;
            gap: 0.35rem;
            color: #6b7280;
            font-size: 0.78rem;
        }
        .news-card-stat svg {
            width: 14px;
            height: 14px;
            opacity: 0.6;
        }
        .news-card-read-more {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            color: #a855f7;
            font-size: 0.82rem;
            font-weight: 500;
            text-decoration: none;
            transition: all 0.2s;
        }
        .news-card-read-more:hover {
            color: #c4b5fd;
            gap: 0.6rem;
        }
        .news-card-read-more svg {
            width: 14px;
            height: 14px;
            transition: transform 0.2s;
        }
        .news-card:hover .news-card-read-more svg {
            transform: translateX(3px);
        }

        /* Product cards grid */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
        }
        .product-card {
            background: linear-gradient(135deg, rgba(30, 30, 40, 0.95), rgba(20, 20, 30, 0.98));
            border: 1px solid rgba(168, 85, 247, 0.15);
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.2s ease;
        }
        .product-card:hover {
            border-color: rgba(168, 85, 247, 0.4);
            transform: translateY(-2px);
        }
        .product-card-image {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }
        .product-card-body {
            padding: 0.75rem;
        }
        .product-card-title {
            font-size: 0.9rem;
            font-weight: 500;
            color: #e2e8f0;
            margin-bottom: 0.5rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .product-card-title a {
            color: inherit;
            text-decoration: none;
        }
        .product-card-price {
            font-size: 1.1rem;
            font-weight: 700;
            color: #22c55e;
        }
        .product-card-zone {
            font-size: 0.75rem;
            color: #64748b;
            margin-top: 0.25rem;
        }

        /* Event cards */
        .events-list {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }
        .event-card {
            background: linear-gradient(135deg, rgba(30, 30, 40, 0.95), rgba(20, 20, 30, 0.98));
            border: 1px solid rgba(168, 85, 247, 0.15);
            border-radius: 12px;
            padding: 1rem;
            display: flex;
            gap: 1rem;
            align-items: center;
            transition: all 0.2s ease;
        }
        .event-card:hover {
            border-color: rgba(168, 85, 247, 0.4);
        }
        .event-date {
            background: rgba(168, 85, 247, 0.2);
            border-radius: 10px;
            padding: 0.75rem;
            text-align: center;
            min-width: 60px;
        }
        .event-date-day {
            font-size: 1.5rem;
            font-weight: 700;
            color: #a855f7;
            line-height: 1;
        }
        .event-date-month {
            font-size: 0.7rem;
            color: #94a3b8;
            text-transform: uppercase;
        }
        .event-info {
            flex: 1;
        }
        .event-title {
            font-size: 1rem;
            font-weight: 600;
            color: #e2e8f0;
            margin-bottom: 0.25rem;
        }
        .event-title a {
            color: inherit;
            text-decoration: none;
        }
        .event-location {
            font-size: 0.85rem;
            color: #64748b;
        }

        /* Cinema section */
        .cinema-movies {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 1rem;
        }
        .movie-card {
            background: linear-gradient(135deg, rgba(30, 30, 40, 0.95), rgba(20, 20, 30, 0.98));
            border: 1px solid rgba(168, 85, 247, 0.15);
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.2s ease;
        }
        .movie-card:hover {
            border-color: rgba(168, 85, 247, 0.4);
            transform: translateY(-2px);
        }
        .movie-card-poster {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        .movie-card-body {
            padding: 0.75rem;
        }
        .movie-card-title {
            font-size: 0.85rem;
            font-weight: 600;
            color: #e2e8f0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .movie-card-genre {
            font-size: 0.7rem;
            color: #64748b;
            margin-top: 0.25rem;
        }

        /* POI (Tourism) section */
        .poi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
        }
        .poi-card {
            background: linear-gradient(135deg, rgba(30, 30, 40, 0.95), rgba(20, 20, 30, 0.98));
            border: 1px solid rgba(168, 85, 247, 0.15);
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.2s ease;
        }
        .poi-card:hover {
            border-color: rgba(168, 85, 247, 0.4);
            transform: translateY(-2px);
        }
        .poi-card-image {
            width: 100%;
            height: 140px;
            object-fit: cover;
        }
        .poi-card-body {
            padding: 0.75rem;
        }
        .poi-card-category {
            display: inline-block;
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
            padding: 0.2rem 0.5rem;
            border-radius: 12px;
            font-size: 0.7rem;
            margin-bottom: 0.5rem;
        }
        .poi-card-title {
            font-size: 0.95rem;
            font-weight: 600;
            color: #e2e8f0;
            margin-bottom: 0.25rem;
        }
        .poi-card-location {
            font-size: 0.8rem;
            color: #64748b;
        }

        /* Quick links grid */
        .quick-links {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }
        .quick-link {
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.1), rgba(30, 30, 40, 0.95));
            border: 1px solid rgba(168, 85, 247, 0.2);
            border-radius: 10px;
            padding: 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            color: #e2e8f0;
            text-decoration: none;
            transition: all 0.2s ease;
        }
        .quick-link:hover {
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(30, 30, 40, 0.95));
            border-color: rgba(168, 85, 247, 0.4);
            transform: translateY(-2px);
        }
        .quick-link .icon {
            font-size: 1.75rem;
        }
        .quick-link span:last-child {
            font-size: 0.85rem;
        }

        /* Sidebar widgets */
        .widget {
            background: linear-gradient(135deg, rgba(30, 30, 40, 0.95), rgba(20, 20, 30, 0.98));
            border: 1px solid rgba(168, 85, 247, 0.15);
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 1rem;
        }
        .widget-title {
            font-size: 0.95rem;
            font-weight: 600;
            color: #e2e8f0;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .widget-list {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .widget-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem;
            border-radius: 8px;
            color: #94a3b8;
            text-decoration: none;
            font-size: 0.85rem;
            transition: all 0.2s ease;
        }
        .widget-item:hover {
            background: rgba(168, 85, 247, 0.1);
            color: #e2e8f0;
        }

        /* Empty state */
        .empty-state {
            text-align: center;
            padding: 2rem;
            color: #64748b;
        }
        .empty-state .icon {
            font-size: 3rem;
            margin-bottom: 0.5rem;
        }

        /* Loading spinner */
        .loading {
            display: flex;
            justify-content: center;
            padding: 2rem;
        }

        @media (max-width: 768px) {
            .products-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .cinema-movies {
                grid-template-columns: repeat(3, 1fr);
            }
            .quick-links {
                grid-template-columns: repeat(3, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- Sidebar de Navegacion Lateral Fijo -->
    <nav class="sidebar-nav">
        <a href="/" class="sidebar-nav-item active">
            <span class="icon">üè†</span>
            <span>Inicio</span>
        </a>

        <div class="sidebar-divider"></div>
        <div class="sidebar-section-title">Explorar</div>

        <a href="/noticias.html" class="sidebar-nav-item">
            <span class="icon">üì∞</span>
            <span>Noticias</span>
        </a>
        <a href="/mercaderia.html" class="sidebar-nav-item">
            <span class="icon">üõí</span>
            <span>Mercaderia</span>
        </a>
        <a href="/eventos.html" class="sidebar-nav-item">
            <span class="icon">üìÖ</span>
            <span>Eventos</span>
        </a>
        <a href="/videos.html" class="sidebar-nav-item">
            <span class="icon">üé¨</span>
            <span>Videos</span>
        </a>

        <div class="sidebar-divider"></div>
        <div class="sidebar-section-title">Servicios</div>

        <a href="/gastronomia.html" class="sidebar-nav-item">
            <span class="icon">üçΩÔ∏è</span>
            <span>Gastronomia</span>
        </a>
        <a href="/alojamiento.html" class="sidebar-nav-item">
            <span class="icon">üè®</span>
            <span>Alojamiento</span>
        </a>
        <a href="/transporte.html" class="sidebar-nav-item">
            <span class="icon">üöå</span>
            <span>Transporte</span>
        </a>
        <a href="/servicios.html" class="sidebar-nav-item">
            <span class="icon">üîß</span>
            <span>Servicios</span>
        </a>
        <a href="/turismo.html" class="sidebar-nav-item">
            <span class="icon">üó∫Ô∏è</span>
            <span>Turismo</span>
        </a>

        <div class="sidebar-divider"></div>

        <a href="/cine.html" class="sidebar-nav-item">
            <span class="icon">üé¨</span>
            <span>Cine</span>
        </a>
        <a href="/contacto.html" class="sidebar-nav-item">
            <span class="icon">üìû</span>
            <span>Contacto</span>
        </a>
    </nav>

    <!-- Header Superior -->
    <header class="header">
        <div class="header-inner">
            <a href="/" class="logo">
                <img src="/assets/logo.png" alt="Logo" style="height: 28px; width: auto;"> Excentrica
            </a>

            <div class="header-search">
                <input type="search" id="global-search" placeholder="Buscar en Excentrica..." />
            </div>

            <div class="user-menu" id="user-menu"></div>

            <button class="menu-toggle" aria-label="Abrir menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <div class="layout-sidebar">
            <!-- Feed principal -->
            <div class="content">
                <!-- Tarjeta de bienvenida -->
                <div class="welcome-card mb-4">
                    <h1 class="welcome-title">Bienvenido a <span class="text-accent">Excentrica</span></h1>
                    <p class="welcome-text">La red social de Santiago del Estero. Descubri noticias, eventos, productos y mucho mas de nuestra comunidad.</p>
                </div>

                <!-- Quick Links -->
                <div class="quick-links">
                    <a href="/noticias.html" class="quick-link">
                        <span class="icon">üì∞</span>
                        <span>Noticias</span>
                    </a>
                    <a href="/mercaderia.html" class="quick-link">
                        <span class="icon">üõí</span>
                        <span>Mercaderia</span>
                    </a>
                    <a href="/eventos.html" class="quick-link">
                        <span class="icon">üìÖ</span>
                        <span>Eventos</span>
                    </a>
                    <a href="/cine.html" class="quick-link">
                        <span class="icon">üé¨</span>
                        <span>Cartelera</span>
                    </a>
                    <a href="/turismo.html" class="quick-link">
                        <span class="icon">üó∫Ô∏è</span>
                        <span>Turismo</span>
                    </a>
                    <a href="/transporte.html" class="quick-link">
                        <span class="icon">üöå</span>
                        <span>Transporte</span>
                    </a>
                </div>

                <!-- Noticias -->
                <section class="home-section">
                    <div class="section-header">
                        <h2 class="section-title"><span class="icon">üì∞</span> Ultimas Noticias</h2>
                        <a href="/noticias.html" class="btn btn-outline btn-sm">Ver todas</a>
                    </div>
                    <div id="news-feed" class="news-feed">
                        <div class="loading"><div class="spinner"></div></div>
                    </div>
                </section>

                <!-- Productos -->
                <section class="home-section">
                    <div class="section-header">
                        <h2 class="section-title"><span class="icon">üõí</span> Productos Destacados</h2>
                        <a href="/mercaderia.html" class="btn btn-outline btn-sm">Ver todos</a>
                    </div>
                    <div id="products-grid" class="products-grid">
                        <div class="loading"><div class="spinner"></div></div>
                    </div>
                </section>

                <!-- Eventos -->
                <section class="home-section">
                    <div class="section-header">
                        <h2 class="section-title"><span class="icon">üìÖ</span> Proximos Eventos</h2>
                        <a href="/eventos.html" class="btn btn-outline btn-sm">Ver todos</a>
                    </div>
                    <div id="events-list" class="events-list">
                        <div class="loading"><div class="spinner"></div></div>
                    </div>
                </section>

                <!-- Cine / Cartelera -->
                <section class="home-section">
                    <div class="section-header">
                        <h2 class="section-title"><span class="icon">üé¨</span> Cartelera de Cine</h2>
                        <a href="/cine.html" class="btn btn-outline btn-sm">Ver cartelera</a>
                    </div>
                    <div id="movies-grid" class="cinema-movies">
                        <div class="loading"><div class="spinner"></div></div>
                    </div>
                </section>

                <!-- Turismo / POI -->
                <section class="home-section">
                    <div class="section-header">
                        <h2 class="section-title"><span class="icon">üó∫Ô∏è</span> Lugares para Visitar</h2>
                        <a href="/turismo.html" class="btn btn-outline btn-sm">Ver todos</a>
                    </div>
                    <div id="poi-grid" class="poi-grid">
                        <div class="loading"><div class="spinner"></div></div>
                    </div>
                </section>
            </div>

            <!-- Sidebar derecho -->
            <aside class="sidebar">
                <!-- Widget de usuario -->
                <div class="widget" id="user-widget" style="background: linear-gradient(135deg, rgba(168, 85, 247, 0.12), rgba(20, 20, 30, 0.95)); border: 1px solid rgba(168, 85, 247, 0.25);">
                    <div class="widget-title" style="color: #a855f7; text-shadow: 0 0 10px rgba(168, 85, 247, 0.5);">Mi Cuenta</div>
                    <div id="user-widget-content">
                        <p style="color: #e2e8f0; font-size: 0.9rem; margin-bottom: 0.75rem;">Inicia sesion para acceder a todas las funciones.</p>
                        <button class="btn btn-block mb-2" style="background: linear-gradient(135deg, #a855f7, #7c3aed); border: none; box-shadow: 0 0 15px rgba(168, 85, 247, 0.4); color: #fff;" onclick="window.location.href='/login.html'">Iniciar Sesion</button>
                        <button class="btn btn-block" style="background: transparent; border: 1px solid #a855f7; color: #e2e8f0;" onclick="window.location.href='/registro.html'">Crear Cuenta</button>
                    </div>
                </div>

                <!-- Widget de contenido patrocinado -->
                <div class="widget" style="background: linear-gradient(135deg, rgba(168, 85, 247, 0.12), rgba(20, 20, 30, 0.95)); border: 1px solid rgba(168, 85, 247, 0.25);">
                    <div class="widget-title" style="color: #a855f7; text-shadow: 0 0 10px rgba(168, 85, 247, 0.5);">Contenido Patrocinado</div>
                    <div id="sponsored-widget">
                        <div style="background: rgba(168, 85, 247, 0.1); border: 1px solid rgba(168, 85, 247, 0.2); border-radius: 10px; padding: 1rem; margin-bottom: 0.75rem;">
                            <p style="color: #f1f5f9; font-size: 0.9rem; margin-bottom: 0.25rem; font-weight: 600;">Tu negocio puede estar aqui</p>
                            <p style="color: #cbd5e1; font-size: 0.8rem;">Contactanos para promocionar tu empresa</p>
                        </div>
                        <a href="/contacto.html" class="btn btn-sm btn-block" style="background: transparent; border: 1px solid #a855f7; color: #e2e8f0;">Quiero anunciar</a>
                    </div>
                </div>

                <!-- Widget de redes sociales -->
                <div class="widget" style="background: linear-gradient(135deg, rgba(168, 85, 247, 0.12), rgba(20, 20, 30, 0.95)); border: 1px solid rgba(168, 85, 247, 0.25);">
                    <div class="widget-title" style="color: #a855f7; text-shadow: 0 0 10px rgba(168, 85, 247, 0.5);">Seguinos</div>
                    <div style="display: flex; gap: 1rem; justify-content: center; padding: 0.5rem 0;">
                        <a href="https://facebook.com/excentrica" target="_blank" rel="noopener" title="Facebook" style="width: 38px; height: 38px; display: flex; align-items: center; justify-content: center; border-radius: 50%; background: rgba(168, 85, 247, 0.15); border: 1px solid rgba(168, 85, 247, 0.3); transition: all 0.3s;">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="#a855f7"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                        </a>
                        <a href="https://instagram.com/excentricaok" target="_blank" rel="noopener" title="Instagram" style="width: 38px; height: 38px; display: flex; align-items: center; justify-content: center; border-radius: 50%; background: rgba(168, 85, 247, 0.15); border: 1px solid rgba(168, 85, 247, 0.3); transition: all 0.3s;">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="#a855f7"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/></svg>
                        </a>
                        <a href="https://open.spotify.com/user/excentrica" target="_blank" rel="noopener" title="Spotify" style="width: 38px; height: 38px; display: flex; align-items: center; justify-content: center; border-radius: 50%; background: rgba(168, 85, 247, 0.15); border: 1px solid rgba(168, 85, 247, 0.3); transition: all 0.3s;">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="#a855f7"><path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"/></svg>
                        </a>
                        <a href="https://youtube.com/revistaexcentrica" target="_blank" rel="noopener" title="YouTube" style="width: 38px; height: 38px; display: flex; align-items: center; justify-content: center; border-radius: 50%; background: rgba(168, 85, 247, 0.15); border: 1px solid rgba(168, 85, 247, 0.3); transition: all 0.3s;">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="#a855f7"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>
                        </a>
                    </div>
                </div>
            </aside>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div>
                    <h4 class="footer-title">Excentrica</h4>
                    <p class="text-muted">Red social y marketplace de Santiago del Estero, Argentina.</p>
                </div>
                <div>
                    <h4 class="footer-title">Secciones</h4>
                    <div class="footer-links">
                        <a href="/noticias.html" class="footer-link">Noticias</a>
                        <a href="/mercaderia.html" class="footer-link">Mercaderia</a>
                        <a href="/eventos.html" class="footer-link">Eventos</a>
                        <a href="/videos.html" class="footer-link">Videos</a>
                    </div>
                </div>
                <div>
                    <h4 class="footer-title">Servicios</h4>
                    <div class="footer-links">
                        <a href="/gastronomia.html" class="footer-link">Gastronomia</a>
                        <a href="/alojamiento.html" class="footer-link">Alojamiento</a>
                        <a href="/transporte.html" class="footer-link">Transporte</a>
                        <a href="/turismo.html" class="footer-link">Turismo</a>
                    </div>
                </div>
                <div>
                    <h4 class="footer-title">Contacto</h4>
                    <div class="footer-links">
                        <span class="footer-link">contacto@excentrica.com.ar</span>
                        <span class="footer-link">Santiago del Estero, Argentina</span>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>¬© 2026 Excentrica - Contenidos y Comunicacion. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="/js/config.js"></script>
    <script src="/js/api.js"></script>
    <script src="/js/auth.js"></script>
    <script src="/js/utils.js"></script>
    <script src="/js/components.js"></script>
    <script src="/js/app.js"></script>
    <script>
        // Helper function to format date
        function formatDate(dateStr) {
            if (!dateStr) return '';
            const date = new Date(dateStr);
            return date.toLocaleDateString('es-AR', { day: 'numeric', month: 'short', year: 'numeric' });
        }

        // Helper to get event date parts
        function getEventDateParts(dateStr) {
            if (!dateStr) return { day: '?', month: '???' };
            const date = new Date(dateStr);
            return {
                day: date.getDate(),
                month: date.toLocaleDateString('es-AR', { month: 'short' }).toUpperCase()
            };
        }

        // Helper to escape HTML
        function escapeHtml(str) {
            if (!str) return '';
            return str.replace(/[&<>"']/g, (m) => ({
                '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#39;'
            }[m]));
        }

        // Helper to truncate text
        function truncate(str, len) {
            if (!str) return '';
            return str.length > len ? str.substring(0, len) + '...' : str;
        }

        // Render news card - Estilo Excentrica mejorado
        function renderNewsCard(news) {
            const imageUrl = news.image_url || news.imageUrl || '';
            const isNew = isRecentNews(news.created_at);
            const views = news.views || news.view_count || 0;
            const likes = news.likes || news.like_count || 0;

            return `
                <article class="news-card">
                    ${imageUrl ? `
                        <div class="news-card-image-container">
                            <img src="${imageUrl}" alt="${escapeHtml(news.title)}" class="news-card-image" onerror="this.parentElement.style.display='none'">
                            <div class="news-card-image-overlay"></div>
                            ${isNew ? '<span class="news-card-badge">Nueva</span>' : ''}
                        </div>
                    ` : ''}
                    <div class="news-card-body">
                        ${news.category_name ? `<span class="news-card-category">${escapeHtml(news.category_name)}</span>` : ''}
                        <h3 class="news-card-title">
                            <a href="/noticia.html?id=${news.id}">${escapeHtml(news.title)}</a>
                        </h3>
                        <p class="news-card-excerpt">${escapeHtml(truncate(news.summary || news.excerpt || news.content, 160))}</p>
                        <div class="news-card-footer">
                            <div class="news-card-meta">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                    <line x1="16" y1="2" x2="16" y2="6"></line>
                                    <line x1="8" y1="2" x2="8" y2="6"></line>
                                    <line x1="3" y1="10" x2="21" y2="10"></line>
                                </svg>
                                <span>${formatDate(news.created_at)}</span>
                            </div>
                            <div class="news-card-stats">
                                <span class="news-card-stat">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                        <circle cx="12" cy="12" r="3"></circle>
                                    </svg>
                                    ${views}
                                </span>
                                ${likes > 0 ? `
                                    <span class="news-card-stat">
                                        <svg viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                                        </svg>
                                        ${likes}
                                    </span>
                                ` : ''}
                            </div>
                        </div>
                    </div>
                </article>
            `;
        }

        // Helper to check if news is recent (within 24 hours)
        function isRecentNews(dateStr) {
            if (!dateStr) return false;
            const newsDate = new Date(dateStr);
            const now = new Date();
            const diffHours = (now - newsDate) / (1000 * 60 * 60);
            return diffHours < 48;
        }

        // Render product card
        function renderProductCard(product) {
            const imageUrl = product.image_url || product.imageUrl || '/images/placeholder.jpg';
            const price = product.price ? `$${Number(product.price).toLocaleString('es-AR')}` : 'Consultar';
            return `
                <article class="product-card">
                    <img src="${imageUrl}" alt="${escapeHtml(product.title || product.name)}" class="product-card-image" onerror="this.src='/images/placeholder.jpg'">
                    <div class="product-card-body">
                        <h3 class="product-card-title">
                            <a href="/producto.html?id=${product.id}">${escapeHtml(product.title || product.name)}</a>
                        </h3>
                        <div class="product-card-price">${price}</div>
                        ${product.zone_name ? `<div class="product-card-zone">üìç ${escapeHtml(product.zone_name)}</div>` : ''}
                    </div>
                </article>
            `;
        }

        // Render event card
        function renderEventCard(event) {
            const dateParts = getEventDateParts(event.event_date || event.start_date);
            return `
                <article class="event-card">
                    <div class="event-date">
                        <div class="event-date-day">${dateParts.day}</div>
                        <div class="event-date-month">${dateParts.month}</div>
                    </div>
                    <div class="event-info">
                        <h3 class="event-title">
                            <a href="/evento.html?id=${event.id}">${escapeHtml(event.title)}</a>
                        </h3>
                        <div class="event-location">üìç ${escapeHtml(event.location || event.venue || 'Por confirmar')}</div>
                    </div>
                </article>
            `;
        }

        // Render movie card
        function renderMovieCard(movie) {
            const posterUrl = movie.poster_url || movie.image_url || '/images/movie-placeholder.jpg';
            return `
                <article class="movie-card">
                    <img src="${posterUrl}" alt="${escapeHtml(movie.title)}" class="movie-card-poster" onerror="this.src='/images/placeholder.jpg'">
                    <div class="movie-card-body">
                        <h3 class="movie-card-title">${escapeHtml(movie.title)}</h3>
                        <div class="movie-card-genre">${escapeHtml(movie.genre || '')}</div>
                    </div>
                </article>
            `;
        }

        // Render POI card
        function renderPoiCard(poi) {
            const imageUrl = poi.image_url || '/images/placeholder.jpg';
            return `
                <article class="poi-card">
                    <img src="${imageUrl}" alt="${escapeHtml(poi.name)}" class="poi-card-image" onerror="this.src='/images/placeholder.jpg'">
                    <div class="poi-card-body">
                        ${poi.category_name ? `<span class="poi-card-category">${escapeHtml(poi.category_name)}</span>` : ''}
                        <h3 class="poi-card-title">${escapeHtml(poi.name)}</h3>
                        ${poi.zone_name ? `<div class="poi-card-location">üìç ${escapeHtml(poi.zone_name)}</div>` : ''}
                    </div>
                </article>
            `;
        }

        // Show empty state
        function showEmpty(container, message, icon) {
            container.innerHTML = `
                <div class="empty-state">
                    <div class="icon">${icon}</div>
                    <p>${message}</p>
                </div>
            `;
        }

        // Load home page content
        async function loadHomePage() {
            // Load user menu
            const user = auth.getUser();
            const userMenu = document.getElementById('user-menu');
            const userWidget = document.getElementById('user-widget-content');

            if (user) {
                let panelButton = '';
                if (user.role === 'admin' || user.role === 'editor' || user.role === 'periodista') {
                    panelButton = `<button class="btn btn-block mb-2" style="background: linear-gradient(135deg, #a855f7, #7c3aed); border: none; color: #fff;" onclick="window.location.href='/editor/'">Panel Editor</button>`;
                }

                userWidget.innerHTML = `
                    <p style="color: #e2e8f0; font-weight: 500; margin-bottom: 0.75rem; text-align: center;">Hola, ${escapeHtml(user.name ? user.name.split(' ')[0] : user.email)}</p>
                    <button class="btn btn-block mb-2" style="background: rgba(168, 85, 247, 0.2); border: 1px solid rgba(168, 85, 247, 0.4); color: #e2e8f0;" onclick="window.location.href='/perfil.html'">Mi Perfil</button>
                    ${panelButton}
                    <button class="btn btn-block" style="background: transparent; border: 1px solid rgba(239, 68, 68, 0.5); color: #f87171;" onclick="auth.logout()">Cerrar Sesion</button>
                `;
            }

            // Helper to extract array from API response (handles different formats)
            function extractArray(response, ...keys) {
                if (!response || !response.success) return [];
                const data = response.data;
                if (Array.isArray(data)) return data;
                for (const key of keys) {
                    if (data && Array.isArray(data[key])) return data[key];
                }
                return [];
            }

            // Load news (API returns data.news)
            try {
                const newsResponse = await api.getNews({ limit: 5 });
                const newsFeed = document.getElementById('news-feed');
                const newsData = extractArray(newsResponse, 'news', 'items');

                if (newsData.length > 0) {
                    newsFeed.innerHTML = newsData.map(n => renderNewsCard(n)).join('');
                } else {
                    showEmpty(newsFeed, 'No hay noticias disponibles', 'üì∞');
                }
            } catch (e) {
                console.error('Error loading news:', e);
                showEmpty(document.getElementById('news-feed'), 'Error cargando noticias', '‚ùå');
            }

            // Load products (API returns data.products)
            try {
                const productsResponse = await api.getProducts({ limit: 8 });
                const productsGrid = document.getElementById('products-grid');
                const productsData = extractArray(productsResponse, 'products', 'items');

                if (productsData.length > 0) {
                    productsGrid.innerHTML = productsData.map(p => renderProductCard(p)).join('');
                } else {
                    showEmpty(productsGrid, 'No hay productos disponibles', 'üõí');
                }
            } catch (e) {
                console.error('Error loading products:', e);
                showEmpty(document.getElementById('products-grid'), 'Error cargando productos', '‚ùå');
            }

            // Load events (API returns data.events)
            try {
                const eventsResponse = await api.getEvents({ limit: 4 });
                const eventsList = document.getElementById('events-list');
                const eventsData = extractArray(eventsResponse, 'events', 'items');

                if (eventsData.length > 0) {
                    eventsList.innerHTML = eventsData.map(e => renderEventCard(e)).join('');
                } else {
                    showEmpty(eventsList, 'No hay eventos proximos', 'üìÖ');
                }
            } catch (e) {
                console.error('Error loading events:', e);
                showEmpty(document.getElementById('events-list'), 'Error cargando eventos', '‚ùå');
            }

            // Load movies (API returns data as array, uses status param)
            try {
                const moviesResponse = await api.getMovies({ status: 'now_showing' });
                const moviesGrid = document.getElementById('movies-grid');
                const moviesData = extractArray(moviesResponse, 'movies', 'items');

                if (moviesData.length > 0) {
                    moviesGrid.innerHTML = moviesData.slice(0, 6).map(m => renderMovieCard(m)).join('');
                } else {
                    showEmpty(moviesGrid, 'No hay peliculas en cartelera', 'üé¨');
                }
            } catch (e) {
                console.error('Error loading movies:', e);
                showEmpty(document.getElementById('movies-grid'), 'No hay cartelera disponible', 'üé¨');
            }

            // Load POI (API returns data.items)
            try {
                const poiResponse = await api.getPoi({ limit: 6 });
                const poiGrid = document.getElementById('poi-grid');
                const poiData = extractArray(poiResponse, 'items', 'poi');

                if (poiData.length > 0) {
                    poiGrid.innerHTML = poiData.map(p => renderPoiCard(p)).join('');
                } else {
                    showEmpty(poiGrid, 'No hay lugares para mostrar', 'üó∫Ô∏è');
                }
            } catch (e) {
                console.error('Error loading POI:', e);
                showEmpty(document.getElementById('poi-grid'), 'No hay lugares disponibles', 'üó∫Ô∏è');
            }

        }

        // Run on load
        document.addEventListener('DOMContentLoaded', loadHomePage);

        // Mobile menu toggle
        document.querySelector('.menu-toggle')?.addEventListener('click', () => {
            document.querySelector('.sidebar-nav').classList.toggle('active');
        });

        // Global search
        document.getElementById('global-search')?.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const query = e.target.value.trim();
                if (query) {
                    window.location.href = `/buscar.html?q=${encodeURIComponent(query)}`;
                }
            }
        });
    </script>
</body>
</html>
