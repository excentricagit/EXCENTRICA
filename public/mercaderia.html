<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mercaderia - Excentrica</title>
    <meta name="description" content="Compra y vende productos en Santiago del Estero. Mercaderia, electronica, ropa y mas.">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/mercaderia.css">
</head>
<body>
    <!-- Sidebar de Navegacion Lateral Fijo -->
    <nav class="sidebar-nav" id="sidebar-nav"></nav>

    <!-- Header -->
    <header class="header" id="main-header"></header>

    <main class="main">
        <div class="layout-sidebar">
            <!-- Contenido principal -->
            <div class="content">
                <!-- Header de seccion -->
                <div class="section-header">
                    <h2 class="section-title"><span>üõí</span> Mercaderia</h2>
                </div>

                <!-- Chips de categorias -->
                <div id="category-chips" class="category-chips"></div>

                <!-- Filtros secundarios -->
                <div class="filter-bar">
                    <select id="zone-filter">
                        <option value="">Todas las zonas</option>
                    </select>
                    <select id="condition-filter">
                        <option value="">Cualquier condicion</option>
                        <option value="nuevo">Nuevo</option>
                        <option value="usado">Usado</option>
                    </select>
                    <span class="filter-results" id="results-count"></span>
                </div>

                <!-- Hidden select para compatibilidad -->
                <select id="category-filter" style="display:none;">
                    <option value="">Categoria</option>
                </select>

                <!-- Grid de productos -->
                <div id="products-grid" class="products-grid">
                    <div class="text-center p-5"><div class="spinner spinner-lg mx-auto"></div></div>
                </div>

                <!-- Paginacion -->
                <div id="pagination"></div>
            </div>

            <!-- Sidebar derecho -->
            <aside class="sidebar">
                <!-- Widget de usuario -->
                <div class="widget" id="user-widget">
                    <div class="widget-title">Mi Cuenta</div>
                    <div id="user-widget-content"></div>
                </div>

                <!-- Widget de contenido patrocinado -->
                <div class="widget" id="ad-widget" style="background: linear-gradient(135deg, rgba(168, 85, 247, 0.25), rgba(124, 58, 237, 0.15)); border: 2px solid rgba(168, 85, 247, 0.5); position: relative; overflow: hidden; min-height: 320px;">
                    <div style="position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.05) 50%, transparent 70%); animation: shimmer 3s infinite;"></div>
                    <div style="position: relative; z-index: 1;">
                        <div class="widget-title" style="color: #e9d5ff; font-size: 1rem;">
                            <span style="font-size: 1.1rem;">‚≠ê</span>
                            Espacio Publicitario
                        </div>
                        <div id="ad-widget-content"></div>
                    </div>
                </div>

                <!-- Widget de categorias -->
                <div class="widget">
                    <div class="widget-title">Categorias</div>
                    <div class="widget-list" id="categories-widget">
                        <div class="text-center p-3"><div class="spinner"></div></div>
                    </div>
                </div>
            </aside>
        </div>
    </main>

    <!-- Modal de producto -->
    <div class="modal-overlay" id="product-modal">
        <div class="modal">
            <button class="modal-close" onclick="closeModal()">&times;</button>

            <!-- Galeria de imagenes -->
            <div class="modal-gallery">
                <img src="" alt="" class="modal-gallery-main" id="modal-main-image">
                <button class="modal-gallery-nav prev" onclick="prevImage()">&#10094;</button>
                <button class="modal-gallery-nav next" onclick="nextImage()">&#10095;</button>
                <div class="modal-gallery-thumbs" id="modal-thumbs"></div>
            </div>

            <div class="modal-body">
                <span class="modal-category" id="modal-category"></span>
                <h2 class="modal-title" id="modal-title"></h2>

                <div class="modal-price-container">
                    <div class="modal-price" id="modal-price"></div>
                    <div class="modal-price-original" id="modal-price-original"></div>
                    <span class="modal-discount" id="modal-discount" style="display: none;"></span>
                </div>

                <p class="modal-description" id="modal-description"></p>

                <div class="modal-details">
                    <div class="modal-detail">
                        <div class="modal-detail-label">Condicion</div>
                        <div class="modal-detail-value" id="modal-condition"></div>
                    </div>
                    <div class="modal-detail">
                        <div class="modal-detail-label">Ubicacion</div>
                        <div class="modal-detail-value" id="modal-location"></div>
                    </div>
                    <div class="modal-detail">
                        <div class="modal-detail-label">Publicado</div>
                        <div class="modal-detail-value" id="modal-date"></div>
                    </div>
                    <div class="modal-detail">
                        <div class="modal-detail-label">Vendedor</div>
                        <div class="modal-detail-value" id="modal-seller"></div>
                    </div>
                </div>

                <!-- Seccion de compra -->
                <div class="modal-purchase">
                    <div class="modal-purchase-title">
                        <span>üõí</span> Como comprar este producto
                    </div>
                    <div class="modal-purchase-steps">
                        <div class="modal-purchase-step">
                            <span>1</span>
                            <span>Hace click en el boton de WhatsApp para contactarnos</span>
                        </div>
                        <div class="modal-purchase-step">
                            <span>2</span>
                            <span>Realiza la transferencia al CBU indicado en el mensaje</span>
                        </div>
                        <div class="modal-purchase-step">
                            <span>3</span>
                            <span>Envia el comprobante por WhatsApp y coordinamos el envio</span>
                        </div>
                    </div>
                    <a href="#" class="btn-whatsapp-buy" id="modal-whatsapp">
                        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                        Comprar por WhatsApp
                    </a>
                </div>

                <div class="modal-contact-alt">
                    <p>Tambien podes llamarnos o enviarnos un mensaje directo</p>
                    <span class="modal-contact-phone" id="modal-phone"></span>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer" id="main-footer"></footer>

    <!-- Scripts base -->
    <script src="/js/config.js"></script>
    <script src="/js/api.js"></script>
    <script src="/js/auth.js"></script>
    <script src="/js/utils.js"></script>
    <script src="/js/components.js"></script>
    <script src="/js/app.js"></script>
    <!-- Script de mercaderia -->
    <script src="/js/mercaderia.js"></script>
    <script>
        // Inicializar componentes de layout
        Components.initLayout({
            headerOptions: { searchPlaceholder: 'Buscar productos...' }
        });
    </script>
</body>
</html>
